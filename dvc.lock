schema: '2.0'
stages:
  pull-dataset:
    cmd: dvc pull -r localstorage
  prepare-env:
    cmd: "docker compose -f ray/docker-compose.yml down || true\ndocker compose -f
      ray/docker-compose.yml up -d --build\n"
    deps:
    - path: ray/docker-compose.yml
      hash: md5
      md5: 636d13830b888aca6fb67e6fec3d4e95
      size: 1311
  train-model:
    cmd: docker exec ray-head python3 train_img_ray.py
    deps:
    - path: ../mlops-data/dataset
      hash: md5
      md5: 627919c6abd60f60d100e1a4a5b29594.dir
      size: 3282761
      nfiles: 280
    - path: ray/ray-head/train_img_ray.py
      hash: md5
      md5: 9e00dec707267a29cdfbf526143e7a26
      size: 5179
